{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-04-30 13:25:50.549109",
 "css": "/*.qr-code{*/\n/*    float:right;*/\n/*}*/\n\n.invoice-heading {\n  margin: 0;\n}\n\n.ksa-invoice-table {\n  border: 1px solid #888a8e;\n  border-collapse: collapse;\n  width: 100%;\n  margin: 20px 0;\n  font-size: 12px;\n  font-weight: bold;\n  \n}\n\n.ksa-invoice-table.two-columns td:nth-child(2) {\n  direction: rtl;\n}\n\n.ksa-invoice-table th {\n  border: 1px solid #888a8e;\n  max-width: 50%;\n  padding: 8px;\n}\n\n.ksa-invoice-table td {\n  padding: 5px;\n  border: 1px solid #888a8e;\n  max-width: 50%;\n}\n\n/*.ksa-invoice-table thead,*/\n/*.ksa-invoice-table tfoot {*/\n/*  text-transform: uppercase;*/\n/*}*/\n\n.qr-rtl {\n  direction: rtl;\n}\n/*.qr-flex{*/\n/*    display: flex;*/\n/*    justify-content: space-between;*/\n/*}*/\n\n.label {\n  text-align: center;\n}\n\n  /*.ksa-vat-format {*/\n  /*  position: fixed;*/\n  /*  bottom: 300px;*/\n  /*  left: 180px;*/\n  /*  width: 100px;*/\n  /*  height: 100px;*/\n  /*}*/\n\n.header-qr-flex {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20px;\n}\n\n.letter-head {\n    flex-basis: 150%;\n}\n\n.ksa-vat-format {\n    flex-basis: 30%;\n    text-align: left;\n}\n\n.qr-flex {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.qr-code {\n    max-width: 100%;\n    height: auto;\n}\n\n/*@media print {*/\n/*  .ksa-invoice-table tr:nth-child(10n+1) {*/\n/*    page-break-before: always;*/\n/*  }*/\n/*}*/",
 "custom_format": 1,
 "default_print_language": "ar",
 "disabled": 1,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{%- macro add_header(page_num, max_pages, doc, letter_head, no_letterhead) -%}\r\n<div class=\"header-qr-flex\">\r\n    {% if letter_head and not no_letterhead %}\r\n        <div class=\"letter-head\">{{ letter_head }}</div>\r\n    {% endif %}\r\n</div>\r\n\r\n\r\n    {% if letter_footer and not no_letterfooter %}\r\n    <div class=\"letter-head\">{{ letter_footer }}</div>\r\n    {% endif %}\r\n    {%- if doc.meta.is_submittable and doc.docstatus==0-%}\r\n    <div class=\"alert alert-info text-center\">\r\n        <h4 style=\"margin: 0px;\">{{ _(\"DRAFT\") }}</h4></div>\r\n    {%- endif -%}\r\n    {%- if doc.meta.is_submittable and doc.docstatus==2-%}\r\n    <div class=\"alert alert-danger text-center\">\r\n        <h4 style=\"margin: 0px;\">{{ _(\"CANCELLED\") }}</h4></div>\r\n    {%- endif -%}\r\n    {% if max_pages > 1 %}\r\n    <p class=\"text-right\">{{ _(\"Page #{0} of {1}\").format(page_num, max_pages) }}</p>\r\n    {% endif %}\r\n{%- endmacro -%}\r\n{{ add_header(0,1,doc,letter_head, no_letterhead) }}\r\n<label>\r\n<p class=\"text-center\" style=\"font-size:20px; background-color:Gainsboro;\"><b>{{ _(\"Sales TAX Invoice\") }}</b></p><br>\r\n</label>\r\n\r\n<table style=\"font-size: 12px;\">\r\n  <tr>\r\n    <td>\r\n      <table>\r\n        <tr>\r\n          <td><label>Customer Name:</label></td>\r\n          <td>{{doc.customer_name or ''}}</td>\r\n        </tr>\r\n        <tr>\r\n          <td><label>Cust. TAX No:</label></td>\r\n          <td>{{doc.tax_id or ''}}</td>\r\n        </tr>\r\n        <tr>\r\n          <td><label>Customer Code:</label></td>\r\n          <td>{{doc.customer or ''}}</td>\r\n        </tr>\r\n        <tr>\r\n          <td><label>Customer Address:</label></td>\r\n          <td>{{doc.customer_address or '-------'}}</td>\r\n        </tr>\r\n      </table>\r\n    <td><td><td><td><td><td><td>\r\n      <table>\r\n        <tr>\r\n          <td><label>Date:</label></td>\r\n          <td>{{doc.posting_date or ''}}</td>\r\n        </tr>\r\n        <tr>\r\n          <td><label>Invoice No:</label></td>\r\n          <td>{{doc.name or ''}}</td>\r\n        </tr>\r\n        <tr>\r\n          <td><label>Quote. Ref:</label></td>\r\n          <td>{{doc.po_ or '-------'}}</td>\r\n        </tr>\r\n        <tr>\r\n          <td><label>PO No:</label></td>\r\n          <td>{{doc.po_ or '-------'}}</td>\r\n        </tr>\r\n      </table>\r\n    </td>\r\n  </tr>\r\n</table>\r\n\r\n<!-- Items -->\r\n    {% set total = namespace(amount = 0) %}\r\n    <table class=\"ksa-invoice-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Description</th>\r\n          <th>\r\n            Unit price\r\n          </th>\r\n          <th>\r\n            Quantity\r\n          </th>\r\n                    <th>\r\n            Unit\r\n          </th>\r\n          <th>\r\n            Amount After Dis\r\n          </th>\r\n          \r\n          <!--{% for row in doc.taxes %}-->\r\n            <th style=\"min-width: 130px\">VAT% &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VAT</th>\r\n          <!--{% endfor %}-->\r\n          \r\n          <th>\r\n            Total\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {%- for item in doc.items -%}\r\n        {% set total.amount = item.amount %}\r\n        <tr>\r\n          <td>{{ item.item_code or item.item_name }}</td>\r\n          <td>{{ item.price_list_rate }}</td>\r\n          <td>{{ item.qty }}</td>\r\n          <td>{{ item.uom }}</td>\r\n          <td>{{ item.amount }}</td>\r\n           {% for row in doc.taxes %}\r\n                {% set data_object = json.loads(row.item_wise_tax_detail) %}\r\n                {% set key = item.item_code or item.item_name %}\r\n                {% set tax_amount = frappe.utils.flt(data_object[key][1]/doc.conversion_rate, row.precision('tax_amount')) %}\r\n                <td>\r\n                   <div class=\"qr-flex\">\r\n                    {%- if(data_object[key][0])-%}\r\n                    <span>{{ frappe.format(data_object[key][0], {'fieldtype': 'Percent'}) }}</span>\r\n                    {%- endif -%}\r\n                    <span>\r\n                    {%- if(data_object[key][1])-%}\r\n                        {{ tax_amount }}</span>\r\n                        {% set total.amount = total.amount + tax_amount %}\r\n                    {%- endif -%}\r\n                    </div>\r\n                </td>\r\n            {% endfor %}\r\n          <td>{{ total.amount }}</td>\r\n        </tr>\r\n        {%- endfor -%}\r\n      </tbody>\r\n      \r\n\r\n\r\n  <table >    \r\n<!--<table style=\"font-size: 12px; margin-top: -20px;\" class=\"fixed-position\">-->\r\n<tr>\r\n  <td class=\"col-xs-2 text-right\"><label style=\"font-weight: bold\">{{ _(\"Total Quantity\") }}</label></td>\r\n  <td class=\"col-xs-1 text-left\" style=\"font-weight: bold\">{{ doc.total_qty or '' }}</td>\r\n  <td></td>\r\n</tr>\r\n  <tr>\r\n    <td class=\"col-xs-6 text-right\"></td>\r\n    <td class=\"col-xs-4 text-right\"><label>{{ _(\"Total\") }}</label></td>\r\n    <td class=\"col-xs-2 text-center\" style=\"font-weight: bold\">\r\n            {% set total = namespace(sum=0) %}\r\n    {% for row in doc.items %}\r\n      {% set total.sum = total.sum + (row.price_list_rate * row.qty)  %}\r\n    {% endfor %}\r\n   {{total.sum}}\r\n    <td></td>\r\n  </tr>    \r\n<tr>\r\n  <td class=\"col-xs-6 text-right\"></td>\r\n  <td class=\"col-xs-4 text-right\"><label>{{ _(\"Total Discount\") }}</label></td>\r\n  <td class=\"col-xs-2 text-center\" style=\"font-weight: bold\">\r\n    {% set total = namespace(sum=0) %}\r\n    {% for row in doc.items %}\r\n      {% set total.sum = total.sum + (row.discount_amount * row.qty)%}\r\n    {% endfor %}\r\n   {{total.sum}}\r\n  </td>\r\n</tr>\r\n  <tr>\r\n    <td class=\"col-xs-6 text-right\"></td>\r\n    <td class=\"col-xs-4 text-right\"><label>{{ _(\"Net Totals\") }}</label></td>\r\n    <td class=\"col-xs-2 text-center\" style=\"font-weight: bold\">{{doc.total or ''}}</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"col-xs-6 text-right\"></td>\r\n    <td class=\"col-xs-4 text-right\"><label>{{ _(\"Additional Discount\") }}</label></td>\r\n    <td class=\"col-xs-2 text-center\" style=\"font-weight: bold\">{{ doc.discount_amount or 00.00}}</td>\r\n    <td></td>\r\n  </tr>\r\n  <tr>\r\n  <td class=\"col-xs-6 text-right\"></td>\r\n  <td class=\"col-xs-4 text-right\"><label>{{ _(\"Total VAt\") }}</label></td>\r\n  <td class=\"col-xs-2 text-center\" style=\"font-weight: bold\">{% set total = namespace(sum=0) %}\r\n    {%- for item in doc.items -%}\r\n    {% for row in doc.taxes %}\r\n      {% set data_object = json.loads(row.item_wise_tax_detail) %}\r\n      {% set key = item.item_code or item.item_name %}\r\n      {% set tax_percent = data_object[key][0] %}\r\n      {% set tax_amount = frappe.utils.flt(data_object[key][1]/doc.conversion_rate, row.precision('tax_amount')) %}\r\n      {% set total.sum = total.sum + tax_amount  %}\r\n    {% endfor %}{% endfor %}\r\n    {{ total.sum }}</td>\r\n  <td></td>\r\n</tr>\r\n\r\n  <tr>\r\n    <td class=\"col-xs-6 text-right\"></td>\r\n    <td class=\"col-xs-4 text-right\"><label>{{ _(\"Required Total\") }}</label></td>\r\n    <td class=\"col-xs-2 text-center\" style=\"font-weight: bold\">{{ doc.get_formatted(\"grand_total\") or ''}}</td>\r\n    <td></td>\r\n  </tr>\r\n  \r\n<!--<tr>-->\r\n<!--  <td style=\"margin-top: -10px;\">-->\r\n<!--    <div class=\"ksa-vat-format\" style=\"float: left;\">-->\r\n<!--      <div class=\"qr-flex\">-->\r\n<!--        <img class=\"qr-code\" src=\"{{doc.ksa_einv_qr}}\">-->\r\n<!--      </div>-->\r\n<!--    </div>-->\r\n<!--  </td>-->\r\n<!--</tr>-->\r\n\r\n  \r\n<!--<tr>-->\r\n<!--  <td><img class=\"qr-code\" src=\"{{doc.ksa_einv_qr}}\"></td>-->\r\n<!--</tr>-->\r\n\r\n</table>\r\n\r\n<!--<img class=\"ksa-vat-format\" src=\"{{doc.ksa_einv_qr}}\">-->\r\n\r\n\r\n<!--<img class=\"ksa-vat-format fixed-position\" src=\"{{doc.ksa_einv_qr}}\" style= \"right: -100px; top: -200px; width: 100px; height: 100px;\">-->\r\n<img class=\"ksa-vat-format\" style=\"position: relative; right: -100px; top: -200px; width: 100px; height: 100px;\" src=\"{{doc.ksa_einv_qr}}\">\r\n<!--<table style=\"font-size: 12px; margin-top: -20px;\" class=\"fixed-position\">-->\r\n<table>\r\n  <tr>\r\n    <td>\r\n      <table>\r\n        <tr>\r\n          <td><label>Shipper Name:</label></td>\r\n          <td>...............................</td>\r\n        </tr>\r\n        <tr>\r\n          <td><label>Name & Signature:</label></td>\r\n          <td>...............................</td>\r\n        </tr>\r\n        <tr>\r\n          <td><label>Truck No:</label></td>\r\n          <td>...............................</td>\r\n        </tr>\r\n      </table>\r\n    </td>\r\n    <td><td><td><td><td><td><td>\r\n      <table>\r\n        <tr>\r\n          <td><label>Customer Sign:</label></td>\r\n          <td>...............................</td>\r\n        </tr>\r\n        <tr>\r\n          <td><label>Customer Stamp:</label></td>\r\n          <td>...............................</td>\r\n        </tr>\r\n        <tr>\r\n          <td><label>Approved By:</label></td>\r\n          <td>...............................</td>\r\n        </tr>\r\n      </table>\r\n    </td>\r\n  </tr>\r\n</table>\r\n\r\n\r\n\r\n\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2023-05-07 10:30:30.557097",
 "modified_by": "Administrator",
 "module": "Masar Msci",
 "name": "SINV-MSCI",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}